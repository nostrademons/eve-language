import eve.lang.class
import eve.data.sequence

@namespace
def List():
    def init(seq=[]):
        iter = seq.iter()
        if iter.has_next() then [iter.get(), List(iter.next())] else []
    def get(self): self[0]
    def next(self): self[1]
    def has_next(self): self.next() != []
    def empty(self): []
    def add(self, val): [val, self]
    make_class(Sequence, locals())
